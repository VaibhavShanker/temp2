<html>
    <head>
        <title>Tic-Tac-Toe Game</title>
        <link rel="stylesheet" type="text/css" href="tic_tac_toe_Pranjal.css">
    </head>

    <body>
        <center><h1 style="font-size:90px">Tic-Tac-Toe</h1></center>
        <center>
        <div id="firstsection">

            <input id="buttonx" type="button" value="Player X" onclick="Buttonx()">
            <input id="buttono" type="button" value="Player O" onclick="Buttono()">
            <center>
            <p id="para"></p>
            </center>

        </div>
        </center>

        <center>
        <div id="secondsection">

            <table id="tableofsquares">

                <tr>
                    <td class="squares" id="a" onclick="Squareclick(this,0,0)"></td>
                    <td class="squares" id="b" onclick="Squareclick(this,0,1)"></td>
                    <td class="squares" id="c" onclick="Squareclick(this,0,2)"></td>
                </tr>

                <tr>
                    <td class="squares" id="d" onclick="Squareclick(this,1,0)"></td>
                    <td class="squares" id="e" onclick="Squareclick(this,1,1)"></td>
                    <td class="squares" id="f" onclick="Squareclick(this,1,2)"></td>
                </tr>

                <tr>
                    <td class="squares" id="g" onclick="Squareclick(this,2,0)"></td>
                    <td class="squares" id="h" onclick="Squareclick(this,2,1)"></td>
                    <td class="squares" id="i" onclick="Squareclick(this,2,2)"></td>
                </tr>

            </table>

        </div>
        </center>
        <center>
        <div id="thirdsection">

            <input id="reset" type="button" value="Reset" onclick="Reset()"><br>
            <input id="restart" type="button" value="Restart" onclick="Restart()">
            
        </div>
        </center>

        <script>

            var a=1;
            var w=-1;
            var matrix= [  [-1,-1,-1], [-1,-1,-1], [-1,-1,-1]  ]
            var count=0;
            
            document.getElementById("restart").style.visibility="hidden";

            document.getElementById("para").innerHTML="X's Turn";

            document.getElementById("buttonx").click();

            function Squareclick(fetchedsquarevalue , r, c) {

                matrix[r][c]=a;
                count++;

                if(fetchedsquarevalue.innerHTML!="") {
                    return;
                }
                else {
                    if(a==1) {
                        fetchedsquarevalue.innerHTML="X";
                        document.getElementById("buttono").click();

                    }
                    else if(a==2) {
                        
                        fetchedsquarevalue.innerHTML="O";
                        document.getElementById("buttonx").click();
                        
                    }
                }

                if(matrix[0][0] == matrix[0][1] && matrix[0][1]== matrix[0][2]) {
                    w=matrix[0][2];
                }
                else if(matrix[1][0] == matrix[1][1] && matrix[1][1]== matrix[1][2]) {
                    w=matrix[1][2];
                }
                else if(matrix[2][0] == matrix[2][1] && matrix[2][1]== matrix[2][2]) {
                    w=matrix[2][2];
                }


                else if(matrix[0][0] == matrix[1][0] && matrix[1][0]== matrix[2][0]) {
                    w=matrix[2][0];
                }
                else if(matrix[0][1] == matrix[1][1] && matrix[1][1]== matrix[2][1]) {
                    w=matrix[2][1];
                }
                else if(matrix[0][2] == matrix[1][2] && matrix[1][2]== matrix[2][2]) {
                    w=matrix[2][2];
                }


                if(matrix[0][0] == matrix[1][1] && matrix[1][1]== matrix[2][2]) {
                    w=matrix[2][2];
                }
                if(matrix[0][2] == matrix[1][1] && matrix[1][1]== matrix[2][0]) {
                    w=matrix[2][0];
                }
                console.log(w);

                if(w==1) {
                    document.getElementById("para").innerHTML="Player X won the Match";
                    document.getElementById("buttonx").style.visibility="hidden";
                    document.getElementById("buttono").style.visibility="hidden";
                    document.getElementById("restart").style.visibility="visible";
                    document.getElementById("reset").style.visibility="hidden";
                }
                else if(w==2) {
                    document.getElementById("para").innerHTML="Player O won the Match";
                    document.getElementById("buttonx").style.visibility="hidden";
                    document.getElementById("buttono").style.visibility="hidden";
                    document.getElementById("restart").style.visibility="visible";
                    document.getElementById("reset").style.visibility="hidden";
                }

                if(count==9 && w==-1) {
                    document.getElementById("para").innerHTML="Match Draw, You can restart the game.";
                    document.getElementById("buttonx").style.visibility="hidden";
                    document.getElementById("buttono").style.visibility="hidden";
                    document.getElementById("restart").style.visibility="visible";
                    document.getElementById("reset").style.visibility="hidden";
                }

            }

            function Buttonx() {
                a=1;
                document.getElementById("para").innerHTML="X's Turn";
                document.getElementById("buttonx").focus();
            }

            function Buttono() {
                a=2;
                document.getElementById("para").innerHTML="O's Turn";
                document.getElementById("buttono").focus();
            }

            function Reset() {
                a=1;
                w=-1;
                document.getElementById("a").innerHTML = "";
                document.getElementById("b").innerHTML = "";
                document.getElementById("c").innerHTML = "";
                document.getElementById("d").innerHTML = "";
                document.getElementById("e").innerHTML = "";
                document.getElementById("f").innerHTML = "";
                document.getElementById("g").innerHTML = "";
                document.getElementById("h").innerHTML = "";
                document.getElementById("i").innerHTML = "";

                for(var x=0;x<3;x++) {
                    for(var v=0;v<3;v++) {
                        matrix[x][v]=-1;
                    }
                }
                document.getElementById("buttonx").click();
            }

            function Restart() {

                a=1;
                w=-1;
                document.getElementById("a").innerHTML = "";
                document.getElementById("b").innerHTML = "";
                document.getElementById("c").innerHTML = "";
                document.getElementById("d").innerHTML = "";
                document.getElementById("e").innerHTML = "";
                document.getElementById("f").innerHTML = "";
                document.getElementById("g").innerHTML = "";
                document.getElementById("h").innerHTML = "";
                document.getElementById("i").innerHTML = "";

                for(var x=0;x<3;x++) {
                    for(var v=0;v<3;v++) {
                        matrix[x][v]=-1;
                    }
                }
                document.getElementById("buttonx").click();

                document.getElementById("reset").style.visibility="visible";
                document.getElementById("restart").style.visibility="hidden";
                document.getElementById("buttonx").style.visibility="visible";
                document.getElementById("buttono").style.visibility="visible";

            }

        </script>

    </body>

</html>