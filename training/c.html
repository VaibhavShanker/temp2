<!Doctype html>
<html>
    <head>
        <title>Pranjal Shukla Fifth Task Js</title>
        <link rel="stylesheet" type="text/css" href="JS_task5_Pranjal.css">
    </head>

    <body>

        <div id="firstsection">

            <label class="label">
                <b>Product Id</b> &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
                <input type="text" id="pid" placeholder=" " >
            </label>
    
        </div>

        <div class="sections">

            <label class="label">
                <b>Product Name</b> &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp;   
                <input type="text" id="pname" placeholder=" " >
            </label>
    
        </div>

        <div class="sections">

            <label class="label">
                <b>Product Price</b> &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  
                <input type="text" id="pprice" placeholder=" " >
            </label>
    
        </div>

        <div class="sections">

            <button id="button" type="button" onclick="Submit()">ADD PRODUCT</button>
            <button id="button2" type="button" onclick="Update()">Update PRODUCT</button>

        </div>

        <div class="sections">

            <lable id="c">
                <b><p id="d" style="margin-left:200px;"></p></b>
            </label>
    
        </div>

        <div id="table">
        
        </div>

        <script>
    
            var x=[];
            document.getElementById("button2").style.visibility = "hidden";

            function Update() {
                var count=0;
                if(x.length==0) {
                    alert("array is empty");
                }
                else 
                {

                    var product1={ productid1:document.getElementById("pid").value ,
                                  productname1:document.getElementById("pname").value ,
                                  productprice1:document.getElementById("pprice").value
                    };

                    for(e=0;e<=x.length-1;e++) {
                        if(product1.productid1 == x[e].productid) {
                            x[e].productid=product1.productid1;
                            x[e].productname=product1.productname1;
                            x[e].productprice=product1.productprice1;
                        }
                        else {
                            count++;
                        }
                    }

                    if(count==x.length) {
                        alert("can't update, product is not available in the array.");
                    }

                    var u=" ";
                    for(q=0;q<=x.length-1;q++){
                        u+="&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  "+x[q].productid;

                        u+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "+x[q].productname;

                        u+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "+x[q].productprice;

                        u+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button onclick='Delete("+q+")' style='background:transparent'><u>delete</u></button>";

                        u+="&nbsp;&nbsp;&nbsp;<button onclick='onUpdate("+q+")' style='background:transparent'><u>update</u></button><br><br><br>";
                    }

                    document.getElementById("table").innerHTML=u;
                    document.getElementById("button2").style.visibility = "hidden";

                }

            }

            function Delete(i) {
                console.log(i+1);
                x.splice(i,1);
                var z=" ";
                for(j=0;j<=x.length-1;j++){
                    z+=" &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "+x[j].productid;

                    z+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "+x[j].productname;

                    z+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "+x[j].productprice;

                    z+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button onclick='Delete("+j+")' style='background:transparent'><u>delete</u></button>";

                    z+="&nbsp;&nbsp;&nbsp;<button onclick='onUpdate("+j+")' style='background:transparent'><u>update</u></button><br><br><br>";
                }

                document.getElementById("table").innerHTML=z;

            }

            function onUpdate(i) {

                    document.getElementById("pid").value=x[i].productid;
                    document.getElementById("pname").value=x[i].productname;
                    document.getElementById("pprice").value=x[i].productprice;

                    
                    document.getElementById("button2").style.visibility = "visible";
                    


            }

            function Submit() {
                
                var product={ productid:document.getElementById("pid").value ,
                              productname:document.getElementById("pname").value ,
                              productprice:document.getElementById("pprice").value
                };

                
                x.push(product);



                if(product.productid!=null && product.productname!=null && product.productprice!=null) {
                    document.getElementById("d").innerHTML=" Product Id  &nbsp;&nbsp;&nbsp; Product Name &nbsp; Product Price &nbsp;&nbsp;&nbsp; Action1 &nbsp;&nbsp; Action2  ";
                    var y=" ";
                    for(i=0;i<=x.length-1;i++){

                        y+="&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  "+x[i].productid;

                        y+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+x[i].productname;

                        y+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+x[i].productprice;

                        y+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button onclick='Delete("+i+")' style='background:transparent'><u>delete</u></button>";

                        y+="&nbsp;&nbsp;&nbsp;<button onclick='onUpdate("+i+")' style='background:transparent'><u>update</u></button><br><br><br>";

                    }

                    document.getElementById("table").innerHTML=y;

                    if(i!=0) {

                        for(k=0;k<=x.length-2;k++) {
                            if(product.productid==x[k].productid) { 
                            x.splice(x.length-1,1);
                            alert("Please enter unique product  id");
                            }
                        }

                        var w=" ";
                        for(m=0;m<=x.length-1;m++){

                            w+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+x[m].productid;

                            w+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+x[m].productname;

                            w+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "+x[m].productprice;

                            w+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button onclick='Delete("+m+")' style='background:transparent'><u>delete</u></button>";

                            w+="&nbsp;&nbsp;&nbsp;<button onclick='onUpdate("+m+")' style='background:transparent'><u>update</u></button><br><br><br>";

                        }

                        document.getElementById("table").innerHTML=w;
                    }
                }
                
                

            }
        
        </script>

    </body>

</html>

    